<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>עמית מטיאס - מפתח ויוצר</title>
    <link rel="icon" type="image/png" href="https://i.postimg.cc/Y2QmJZYv/8368bab6-777c-4c6f-8a6b-11c76a170884-png-1.png">

    <link href="https://fonts.googleapis.com/css2?family=Assistant:wght@300;400;700&family=Montserrat:wght@700;800&display=swap" rel="stylesheet">

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <style>
        :root {
            --bg-dark: #000000; /* **רקע שחור טהור (או הקרוב ביותר)** */
            --bg-medium-dark: #1a1a1a; /* רקע כהה יותר עדין לסירוגין, עדיין כמעט שחור */
            --text-white: #FFFFFF; /* **צבע טקסט לבן טהור** */
            --primary-color: #667eea; /* סגול-כחול בהיר (לכותרות, קישורים, הדגשות) */
            --secondary-color: #764ba2; /* סגול כהה יותר (לכפתורים, הדגשות משניות) */
            --accent-color: #ef4444; /* אדום (להודעות שגיאה) */
            --card-bg: rgba(255, 255, 255, 0.08); /* רקע כרטיס שקוף עדין */
            --border-color: rgba(255, 255, 255, 0.15); /* צבע גבולות */
            --transition-speed: 0.8s; /* האטה לאנימציות גלילה */
        }

        body {
            font-family: 'Assistant', sans-serif;
            background-color: var(--bg-dark);
            color: var(--text-white); /* **כל הטקסט כברירת מחדל יהיה לבן טהור** */
            margin: 0;
            padding: 0;
            direction: rtl;
            line-height: 1.6;
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        /* Hero Section - Full Screen with Content Centered */
        .hero {
            position: relative;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            overflow: hidden;
            background: linear-gradient(135deg, var(--bg-dark) 0%, var(--bg-medium-dark) 100%);
            padding: 20px;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('https://source.unsplash.com/random/1920x1080?abstract,tech'); /* תמונת רקע דינמית */
            background-size: cover;
            background-position: center;
            opacity: 0.15; /* שקיפות עדינה */
            filter: blur(5px);
            z-index: 0;
        }

        .hero-content {
            position: relative;
            z-index: 2;
            padding: 30px;
            background-color: rgba(0, 0, 0, 0.6); /* רקע כהה יותר לתוכן ה-Hero */
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            max-width: 800px;
            animation: fadeIn 1s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .hero-image-container {
            margin-bottom: 30px;
        }

        .hero-image {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            border: 5px solid var(--primary-color);
            box-shadow: 0 0 25px rgba(102, 126, 234, 0.7);
            object-fit: cover;
            animation: bounceIn 1s ease-out;
        }

        @keyframes bounceIn {
            0% { transform: scale(0.3); opacity: 0; }
            50% { transform: scale(1.1); opacity: 1; }
            70% { transform: scale(0.9); }
            100% { transform: scale(1); }
        }

        .hero h1 {
            font-family: 'Montserrat', sans-serif;
            font-size: 4.5em;
            margin-bottom: 10px;
            color: var(--text-white); /* **כותרת Hero לבנה טהורה** */
            text-shadow: 0 0 20px rgba(102, 126, 234, 0.7);
            animation: scaleIn 0.8s ease-out;
        }

        .hero p {
            font-size: 1.5em;
            color: var(--text-white); /* **טקסט Hero לבן טהור** */
            margin-bottom: 30px;
            animation: fadeIn 1s ease-out 0.2s forwards;
            opacity: 0;
        }

        @keyframes scaleIn {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        /* General Section Styling */
        section {
            padding: 80px 20px;
            max-width: 1200px;
            margin: 0 auto;
            text-align: center;
            opacity: 0; /* Hidden by default for scroll animation */
            transform: translateY(50px);
            transition: opacity var(--transition-speed) ease-out, transform var(--transition-speed) ease-out;
        }

        section.in-view {
            opacity: 1;
            transform: translateY(0);
        }

        section:nth-of-type(odd) {
            background-color: var(--bg-medium-dark); /* רקע כהה בינוני לסירוגין */
        }

        h2 {
            font-family: 'Montserrat', sans-serif;
            font-size: 3em;
            color: var(--primary-color); /* כותרות סקשנים בצבע ראשי - בולט מספיק */
            margin-bottom: 40px;
            position: relative;
            animation: slideInFromTop 1s ease-out; /* אנימציית כותרת */
        }

        @keyframes slideInFromTop {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        h2::after {
            content: '';
            display: block;
            width: 80px;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            margin: 15px auto 0;
            border-radius: 2px;
            animation: expandLine 1s ease-out; /* אנימציית קו תחתון */
        }

        @keyframes expandLine {
            from { width: 0; }
            to { width: 80px; }
        }

        /* About Section */
        .about-content {
            display: flex;
            flex-direction: row-reverse; /* טקסט מימין, תמונה משמאל */
            gap: 50px;
            align-items: center;
            text-align: right;
        }

        .about-text {
            flex: 2;
            animation: fadeInRight var(--transition-speed) ease-out; /* אנימציה לכניסה מימין */
        }

        @keyframes fadeInRight {
            from { opacity: 0; transform: translateX(50px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .about-text p {
            font-size: 1.2em;
            margin-bottom: 20px;
            color: var(--text-white); /* **טקסט 'מי אני' לבן טהור** */
        }

        .about-image-container {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            min-width: 250px;
            animation: fadeInLeft var(--transition-speed) ease-out; /* אנימציה לכניסה משמאל */
        }

        @keyframes fadeInLeft {
            from { opacity: 0; transform: translateX(-50px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .about-image {
            width: 100%;
            max-width: 300px; /* גודל מקסימלי לתמונה */
            height: auto;
            border-radius: 50%; /* תמונה עגולה */
            border: 5px solid var(--primary-color);
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.5);
            transition: transform var(--transition-speed) ease;
        }

        .about-image:hover {
            transform: scale(1.05) rotate(5deg);
        }

        /* Projects Section */
        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }

        .project-card {
            background-color: var(--card-bg);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.4);
            transition: transform var(--transition-speed) ease, box-shadow var(--transition-speed) ease;
            text-align: right;
            border: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            opacity: 0; /* Hidden by default for scroll animation */
            transform: translateY(30px);
        }

        .project-card.in-view {
            opacity: 1;
            transform: translateY(0);
        }

        .project-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.6);
        }

        .project-image-container {
            width: 100%;
            height: 200px;
            overflow: hidden;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .project-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .project-card:hover .project-image {
            transform: scale(1.1);
        }

        .project-content {
            padding: 25px;
            flex-grow: 1; /* יגרום לתוכן לתפוס את כל השטח הפנוי */
            display: flex;
            flex-direction: column;
            justify-content: space-between; /* ידחוף את הכפתור לתחתית */
        }

        .project-content h3 {
            font-family: 'Montserrat', sans-serif;
            color: var(--primary-color); /* כותרות פרויקטים בצבע ראשי - בולט מספיק */
            font-size: 1.8em;
            margin-top: 0;
            margin-bottom: 10px;
        }

        .project-content p {
            color: var(--text-white); /* **תיאורי פרויקטים לבנים טהורים** */
            font-size: 1.1em;
            margin-bottom: 20px;
        }

        .project-link {
            display: inline-block;
            padding: 10px 25px;
            background: var(--secondary-color);
            color: var(--text-white); /* **צבע כפתור - לבן טהור** */
            text-decoration: none;
            border-radius: 5px;
            transition: background var(--transition-speed) ease;
            font-weight: 700;
            align-self: flex-start; /* יישור הכפתור לימין (בגלל rtl) */
        }

        .project-link:hover {
            background: var(--primary-color);
        }

        /* Contact Section */
        .contact-form {
            max-width: 600px;
            margin: 40px auto 0;
            background-color: var(--card-bg);
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.4);
            text-align: right; /* יישור הטקסט מימין לשמאל */
            opacity: 0; /* Hidden for scroll animation */
            transform: translateY(30px);
        }

        .contact-form.in-view {
            opacity: 1;
            transform: translateY(0);
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 10px;
            font-size: 1.1em;
            color: var(--primary-color); /* לייבלים בטופס בצבע ראשי - בולט מספיק */
            font-weight: 700;
        }

        .form-group input[type="text"],
        .form-group input[type="email"],
        .form-group textarea {
            width: calc(100% - 20px); /* מותאם לריפוד */
            padding: 12px 10px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            background-color: rgba(255, 255, 255, 0.05);
            color: var(--text-white); /* **טקסט בתוך שדות קלט לבן טהור** */
            font-size: 1em;
            transition: border-color var(--transition-speed) ease, box-shadow var(--transition-speed) ease;
        }

        .form-group input[type="text"]:focus,
        .form-group input[type="email"]:focus,
        .form-group textarea:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 10px rgba(102, 126, 234, 0.5);
            outline: none;
        }

        .form-group textarea {
            resize: vertical;
            min-height: 120px;
        }

        .submit-button {
            display: inline-block;
            padding: 15px 40px;
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            color: var(--text-white); /* **צבע כפתור - לבן טהור** */
            text-decoration: none;
            border-radius: 50px;
            transition: all var(--transition-speed) ease;
            font-weight: 700;
            font-size: 1.2em;
            border: none;
            cursor: pointer;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }

        .submit-button:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.3), 0 0 30px rgba(102, 126, 234, 0.7);
            background: linear-gradient(45deg, var(--secondary-color), var(--primary-color));
        }

        #form-message {
            margin-top: 20px;
            font-size: 1.1em;
            font-weight: 700;
            color: var(--text-white); /* **הודעת טופס לבנה טהורה** */
        }

        .success {
            color: #28a745; /* צבע הצלחה - ירוק */
        }

        .error {
            color: var(--accent-color); /* צבע שגיאה - אדום */
        }

        /* Footer */
        footer {
            background-color: #000;
            color: var(--text-white); /* **טקסט פוטר לבן טהור** */
            padding: 40px 20px;
            text-align: center;
            font-size: 0.9em;
            border-top: 1px solid var(--border-color);
        }

        footer a {
            color: var(--primary-color); /* קישורי פוטר בצבע ראשי */
            text-decoration: none;
            transition: color var(--transition-speed) ease;
        }

        footer a:hover {
            color: var(--secondary-color);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 3em;
            }
            .hero p {
                font-size: 1.2em;
            }
            h2 {
                font-size: 2.5em;
            }
            .about-content {
                flex-direction: column;
            }
            .about-text, .about-image-container {
                flex: none;
                width: 100%;
                text-align: center;
            }
            .about-image {
                max-width: 200px;
            }
            .projects-grid {
                grid-template-columns: 1fr;
            }
            .contact-form {
                padding: 30px 20px;
            }
            .form-group input[type="text"],
            .form-group input[type="email"],
            .form-group textarea {
                width: calc(100% - 24px); /* התאמה לריפוד */
            }
        }
    </style>
</head>
<body>
    <header class="hero">
        <div class="hero-content">
            <div class="hero-image-container">
                <img src="https://via.placeholder.com/150/667eea/FFFFFF?text=עמית" alt="תמונת פרופיל" class="hero-image">
            </div>
            <h1 class="fade-in">עמית מטיאס</h1>
            <p class="fade-in-delay">מפתח ויוצר בתחום הטכנולוגיה</p>
        </div>
    </header>

    <section id="about">
        <h2>מי אני</h2>
        <div class="about-content">
            <div class="about-text">
                <p>שלום! אני עמית מטיאס, מפתח ויוצר עם תשוקה עמוקה לטכנולוגיה וחדשנות. במהלך השנים צברתי ניסיון רב בפיתוח פתרונות תוכנה מגוונים, החל מאתרי אינטרנט ויישומים ועד מערכות מורכבות יותר. אני מאמין בכוחה של הטכנולוגיה לשנות ולהשפיע, ושואף תמיד ללמוד ולהתפתח.</p>
                <p>אני מתמחה בפיתוח צד לקוח (Frontend) ובעל ידע בפיתוח צד שרת (Backend), מה שמאפשר לי לגשת לפרויקטים עם הבנה הוליסטית. אני נהנה לפתור בעיות מורכבות, לעבוד על פרויקטים מאתגרים וליצור חוויות משתמש אינטואיטיביות ומהנות. העבודה שלי מונעת על ידי סקרנות, יצירתיות ושאיפה למצוינות.</p>
                <p>אני תמיד פתוח לשיתופי פעולה חדשים, פרויקטים מעניינים והזדמנויות ללמוד ולתרום. אתם מוזמנים להתרשם מהפרויקטים שלי וליצור איתי קשר!</p>
            </div>
            <div class="about-image-container">
                <img src="https://via.placeholder.com/300/764ba2/FFFFFF?text=עמית" alt="תמונת פרופיל של עמית מטיאס" class="about-image">
            </div>
        </div>
    </section>

    <section id="projects">
        <h2>הפרויקטים שלי</h2>
        <div class="projects-grid" id="projects-container">
            <p style="grid-column: 1 / -1; text-align: center;">טוען פרויקטים...</p>
        </div>
    </section>

    <section id="contact">
        <h2>פנו אליי</h2>
        <form class="contact-form" id="contact-form">
            <div class="form-group">
                <label for="name">שם מלא:</label>
                <input type="text" id="name" name="name" required>
            </div>
            <div class="form-group">
                <label for="email">כתובת אימייל:</label>
                <input type="email" id="email" name="email" required>
            </div>
            <div class="form-group">
                <label for="message">הודעה:</label>
                <textarea id="message" name="message" required></textarea>
            </div>
            <button type="submit" class="submit-button">שלח הודעה</button>
            <p id="form-message" aria-live="polite"></p>
        </form>
    </section>

    <footer>
        <p>&copy; <span id="current-year"></span> עמית מטיאס. כל הזכויות שמורות.</p>
        <p>נבנה באהבה עם <a href="https://supabase.com/" target="_blank">Supabase</a> ו-GitHub Pages.</p>
    </footer>

    <script>
        // Supabase Client Initialization
        // החלף את ה-URL וה-KEY שלך בפרטים שקיבלת מ-Supabase
        const SUPABASE_URL = 'https://bycnlfbnoqsnctelvape.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJ5Y25sZmJub3FzbmN0ZWx2YXBlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIxNzczMjAsImV4cCI6MjA2Nzc1MzMyMH0.XxBmwCEKgo70ILU-IZjHkXplsf2rLJBrpCXVT6hWm6U';
        const supabase = Supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

        // Get the favicon URL from the link tag for default project image
        const faviconLink = document.querySelector('link[rel="icon"]');
        const defaultProjectImage = faviconLink ? faviconLink.href : 'https://via.placeholder.com/300/333/EEE?text=Project'; // Fallback if no favicon

        // Load Projects from Supabase
        async function loadProjects() {
            const projectsContainer = document.getElementById('projects-container');
            projectsContainer.innerHTML = '<p style="grid-column: 1 / -1; text-align: center; color: var(--text-white);">טוען פרויקטים...</p>'; // וודא צבע לבן להודעת טעינה

            try {
                const { data, error } = await supabase
                    .from('projects')
                    .select('*')
                    .order('created_at', { ascending: false }); // סדר לפי תאריך יצירה, מהחדש לישן

                if (error) throw error;

                if (data.length === 0) {
                    projectsContainer.innerHTML = '<p style="grid-column: 1 / -1; text-align: center; color: var(--text-white);">אין פרויקטים להצגה כרגע. חזור בקרוב!</p>'; // וודא צבע לבן
                    return;
                }

                projectsContainer.innerHTML = ''; // נקה הודעת טעינה

                data.forEach(project => {
                    const projectCard = document.createElement('div');
                    projectCard.className = 'project-card';

                    const imageUrl = project.image_url || defaultProjectImage; // השתמש ב-favicon אם אין תמונה

                    projectCard.innerHTML = `
                        <div class="project-image-container">
                            <img src="${imageUrl}" alt="${project.title}" class="project-image">
                        </div>
                        <div class="project-content">
                            <h3>${project.title}</h3>
                            <p>${project.description}</p>
                            <a href="${project.project_url}" target="_blank" class="project-link">צפה בפרויקט</a>
                        </div>
                    `;
                    projectsContainer.appendChild(projectCard);
                });

            } catch (error) {
                console.error('Error loading projects:', error.message);
                projectsContainer.innerHTML = `<p style="grid-column: 1 / -1; text-align: center; color: var(--accent-color);">שגיאה בטעינת הפרויקטים: ${error.message}. נסה לרענן את הדף.</p>`;
            }
        }

        // Handle Contact Form Submission
        const contactForm = document.getElementById('contact-form');
        const formMessage = document.getElementById('form-message');

        contactForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            formMessage.textContent = 'שולח...';
            formMessage.className = ''; // נקה סגנונות קודמים

            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const message = document.getElementById('message').value;

            try {
                const { error } = await supabase
                    .from('contacts')
                    .insert([
                        { name: name, email: email, message: message }
                    ]);

                if (error) throw error;

                formMessage.textContent = 'הודעתך נשלחה בהצלחה! תודה.';
                formMessage.className = 'success';
                contactForm.reset(); // נקה את הטופס
            } catch (error) {
                console.error('Error submitting contact form:', error.message);
                formMessage.textContent = `שגיאה בשליחת ההודעה: ${error.message}. נסה שוב מאוחר יותר.`;
                formMessage.className = 'error';
            }
        });

        // Set current year in footer
        document.getElementById('current-year').textContent = new Date().getFullYear();

        // Scroll Animation Logic
        const sections = document.querySelectorAll('section');
        const contactFormElement = document.querySelector('.contact-form');

        const observerOptions = {
            root: null,
            rootMargin: '0px',
            threshold: 0.1 // Trigger when 10% of the element is visible
        };

        const observer = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('in-view');
                    // Stop observing once in view to prevent re-triggering
                    // observer.unobserve(entry.target); // If you want animation to play only once
                } else {
                    // Optional: remove in-view class when out of view
                    // entry.target.classList.remove('in-view');
                }
            });
        }, observerOptions);

        // Observe sections
        sections.forEach(section => {
            observer.observe(section);
        });

        // Observe project cards (needs to be done after projects are loaded)
        document.addEventListener('DOMContentLoaded', () => {
            loadProjects().then(() => {
                const loadedProjectCards = document.querySelectorAll('.project-card');
                loadedProjectCards.forEach(card => {
                    observer.observe(card);
                });
            });
            observer.observe(contactFormElement); // Observe contact form as well
        });

    </script>
</body>
</html>
